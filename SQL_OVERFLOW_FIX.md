# SQL æ–‡æœ¬æ¡†æº¢å‡ºé—®é¢˜ä¿®å¤

## ğŸ› é—®é¢˜æè¿°

æ•°æ®åº“èŠ‚ç‚¹ä¸­çš„ SQL æ–‡æœ¬æ¡†å†…å®¹è¿‡é•¿æ—¶ä¼šæº¢å‡ºèŠ‚ç‚¹è¾¹ç•Œï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚

![é—®é¢˜æˆªå›¾](https://user-images.githubusercontent.com/example/sql-overflow.png)

## âœ… ä¿®å¤æ–¹æ¡ˆ

### 1. ä¿®æ”¹ç»„ä»¶åŒ…è£…å™¨

åœ¨ `src/form-components/form-inputs/sql-template-editor.tsx` ä¸­æ·»åŠ äº†åŒ…è£…å®¹å™¨ï¼š

```tsx
<div
  className="sql-template-editor-wrapper"
  style={{
    width: '100%',
    maxWidth: '100%',
    overflow: 'auto',
  }}
>
  <SQLEditorWithVariables
    value={text}
    onChange={(v) => onChange({ type: 'template', content: v })}
    readonly={readonly}
  />
</div>
```

### 2. æ·»åŠ  CSS æ ·å¼

åœ¨ `src/styles/index.css` ä¸­æ·»åŠ äº†ä¸“é—¨çš„æ ·å¼è§„åˆ™ï¼š

```css
/* ä¿®å¤ SQL ç¼–è¾‘å™¨æ–‡æœ¬æº¢å‡ºé—®é¢˜ */
.sql-template-editor-wrapper {
  width: 100%;
  max-width: 100%;
  overflow: auto;
}

.sql-template-editor-wrapper .semi-input,
.sql-template-editor-wrapper .semi-input-wrapper,
.sql-template-editor-wrapper textarea {
  width: 100% !important;
  max-width: 100% !important;
  word-break: break-all;
  white-space: pre-wrap;
  overflow-wrap: break-word;
  box-sizing: border-box;
}

/* ç¡®ä¿ SQL ç¼–è¾‘å™¨å†…éƒ¨å…ƒç´ ä¸ä¼šæº¢å‡º */
.sql-template-editor-wrapper * {
  max-width: 100%;
  box-sizing: border-box;
}
```

## ğŸ“‹ ä¿®æ”¹çš„æ–‡ä»¶

1. **src/form-components/form-inputs/sql-template-editor.tsx**
   - æ·»åŠ äº†åŒ…è£…å®¹å™¨ `div`
   - è®¾ç½®äº† `className` å’Œå†…è”æ ·å¼
   - ç§»é™¤äº†æœªä½¿ç”¨çš„ `React` å¯¼å…¥

2. **src/styles/index.css**
   - æ·»åŠ äº† `.sql-template-editor-wrapper` æ ·å¼
   - æ·»åŠ äº†å†…éƒ¨å…ƒç´ çš„æ ·å¼è§„åˆ™
   - ä¿®å¤äº†ç©ºçš„ `:root` è§„åˆ™é›†è­¦å‘Š

## ğŸ¯ ä¿®å¤æ•ˆæœ

### ä¿®å¤å‰
- âŒ SQL æ–‡æœ¬è¶…å‡ºèŠ‚ç‚¹è¾¹ç•Œ
- âŒ é•¿æ–‡æœ¬æ— æ³•å®Œæ•´æ˜¾ç¤º
- âŒ å½±å“èŠ‚ç‚¹å¸ƒå±€

### ä¿®å¤å
- âœ… SQL æ–‡æœ¬è‡ªåŠ¨æ¢è¡Œ
- âœ… å†…å®¹å®Œæ•´æ˜¾ç¤ºåœ¨èŠ‚ç‚¹å†…
- âœ… æ”¯æŒæ»šåŠ¨æŸ¥çœ‹é•¿æ–‡æœ¬
- âœ… ä¸å½±å“èŠ‚ç‚¹å¸ƒå±€

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### CSS å±æ€§è¯´æ˜

1. **word-break: break-all**
   - å…è®¸åœ¨ä»»æ„å­—ç¬¦é—´æ–­è¡Œ
   - é˜²æ­¢é•¿å•è¯æº¢å‡º

2. **white-space: pre-wrap**
   - ä¿ç•™ç©ºç™½ç¬¦åºåˆ—
   - å…è®¸è‡ªåŠ¨æ¢è¡Œ

3. **overflow-wrap: break-word**
   - åœ¨å•è¯å†…éƒ¨æ–­è¡Œ
   - ä½œä¸º word-break çš„è¡¥å……

4. **overflow: auto**
   - å†…å®¹è¶…å‡ºæ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡
   - ä¿æŒèŠ‚ç‚¹å¤§å°ä¸å˜

5. **box-sizing: border-box**
   - åŒ…å« padding å’Œ border åœ¨å®½åº¦å†…
   - ç¡®ä¿å…ƒç´ ä¸ä¼šè¶…å‡ºå®¹å™¨

## ğŸ“ ä½¿ç”¨è¯´æ˜

### åˆ·æ–°é¡µé¢
ä¿®å¤åéœ€è¦åˆ·æ–°æµè§ˆå™¨æŸ¥çœ‹æ•ˆæœï¼š
```bash
# å¼ºåˆ¶åˆ·æ–°: Cmd+Shift+R (Mac) æˆ– Ctrl+Shift+R (Windows)
```

### æµ‹è¯•æ­¥éª¤
1. æ‰“å¼€å·¥ä½œæµç¼–è¾‘å™¨
2. æ·»åŠ æˆ–ç¼–è¾‘æ•°æ®åº“èŠ‚ç‚¹
3. åœ¨ SQL è¾“å…¥æ¡†ä¸­è¾“å…¥é•¿æ–‡æœ¬
4. éªŒè¯æ–‡æœ¬æ˜¯å¦æ­£ç¡®æ¢è¡Œå’Œæ˜¾ç¤º

### é¢„æœŸè¡Œä¸º
- çŸ­æ–‡æœ¬ï¼šæ­£å¸¸æ˜¾ç¤ºï¼Œæ— æ»šåŠ¨æ¡
- é•¿æ–‡æœ¬ï¼šè‡ªåŠ¨æ¢è¡Œï¼Œå¿…è¦æ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡
- è¶…é•¿æ–‡æœ¬ï¼šå®Œæ•´åŒ…å«åœ¨èŠ‚ç‚¹å†…ï¼Œå¯æ»šåŠ¨æŸ¥çœ‹

## ğŸ¨ æ ·å¼ä¼˜å…ˆçº§

ä½¿ç”¨äº† `!important` æ¥ç¡®ä¿æ ·å¼ç”Ÿæ•ˆï¼š

```css
width: 100% !important;
max-width: 100% !important;
```

è¿™æ˜¯å› ä¸º Semi UI ç»„ä»¶å¯èƒ½æœ‰å†…è”æ ·å¼ï¼Œéœ€è¦è¦†ç›–ã€‚

## ğŸ”§ å…¶ä»–ä¼˜åŒ–

### ç§»é™¤æœªä½¿ç”¨çš„å¯¼å…¥
```diff
- import React from 'react';
  import { IFlowTemplateValue, SQLEditorWithVariables } from '@flowgram.ai/form-materials';
```

### ä¿®å¤ CSS è­¦å‘Š
```diff
- :root {
-   /* ensure full-height layout */
- }
+ /* ensure full-height layout */
```

## ğŸš€ æ‰©å±•æ€§

è¿™ä¸ªä¿®å¤æ–¹æ¡ˆå¯ä»¥åº”ç”¨åˆ°å…¶ä»–ç±»ä¼¼çš„æ–‡æœ¬è¾“å…¥ç»„ä»¶ï¼š

1. **Prompt ç¼–è¾‘å™¨**
2. **ä»£ç ç¼–è¾‘å™¨**
3. **é•¿æ–‡æœ¬è¾“å…¥æ¡†**

åªéœ€ï¼š
1. æ·»åŠ ç›¸åŒçš„åŒ…è£…å®¹å™¨
2. åº”ç”¨ç›¸åŒçš„ CSS ç±»å
3. æ ¹æ®éœ€è¦è°ƒæ•´æ ·å¼

## ğŸ“Š å…¼å®¹æ€§

### æµè§ˆå™¨æ”¯æŒ
- âœ… Chrome 90+
- âœ… Firefox 88+
- âœ… Safari 14+
- âœ… Edge 90+

### å“åº”å¼
- âœ… æ¡Œé¢ç«¯
- âœ… å¹³æ¿ç«¯
- âœ… ç§»åŠ¨ç«¯ï¼ˆå¦‚æœæ”¯æŒï¼‰

## ğŸ“ æœ€ä½³å®è·µ

### 1. ä½¿ç”¨è¯­ä¹‰åŒ–çš„ç±»å
```css
.sql-template-editor-wrapper  /* âœ… æ¸…æ™°æè¿°ç”¨é€” */
.wrapper                       /* âŒ è¿‡äºé€šç”¨ */
```

### 2. é¿å…è¿‡åº¦ä½¿ç”¨ !important
```css
/* âœ… åªåœ¨å¿…è¦æ—¶ä½¿ç”¨ */
.sql-template-editor-wrapper .semi-input {
  width: 100% !important;  /* è¦†ç›–ç»„ä»¶åº“æ ·å¼ */
}

/* âŒ ä¸è¦æ»¥ç”¨ */
.my-class {
  color: red !important;
  font-size: 14px !important;
  /* ... */
}
```

### 3. è€ƒè™‘æ€§èƒ½
```css
/* âœ… ä½¿ç”¨å…·ä½“çš„é€‰æ‹©å™¨ */
.sql-template-editor-wrapper .semi-input { }

/* âŒ é¿å…è¿‡äºå®½æ³›çš„é€‰æ‹©å™¨ */
* { max-width: 100%; }  /* å½±å“æ‰€æœ‰å…ƒç´  */
```

## ğŸ› å·²çŸ¥é—®é¢˜

### æ— 

ç›®å‰æ²¡æœ‰å·²çŸ¥é—®é¢˜ã€‚å¦‚æœå‘ç°é—®é¢˜ï¼Œè¯·ï¼š
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°
2. éªŒè¯ CSS æ˜¯å¦æ­£ç¡®åŠ è½½
3. æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–æ ·å¼å†²çª

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥æµè§ˆå™¨å¼€å‘è€…å·¥å…·
2. æŸ¥çœ‹å…ƒç´ çš„è®¡ç®—æ ·å¼
3. éªŒè¯ CSS ç±»åæ˜¯å¦æ­£ç¡®åº”ç”¨
4. æ£€æŸ¥æ˜¯å¦æœ‰æ ·å¼è¦†ç›–

## ğŸ‰ æ€»ç»“

- âœ… **é—®é¢˜å·²ä¿®å¤** - SQL æ–‡æœ¬ä¸å†æº¢å‡º
- âœ… **ç”¨æˆ·ä½“éªŒæå‡** - å†…å®¹å®Œæ•´æ˜¾ç¤º
- âœ… **ä»£ç è´¨é‡æå‡** - ç§»é™¤è­¦å‘Šï¼Œä¼˜åŒ–ç»“æ„
- âœ… **å¯ç»´æŠ¤æ€§æå‡** - æ¸…æ™°çš„æ ·å¼ç»„ç»‡

ç°åœ¨æ•°æ®åº“èŠ‚ç‚¹çš„ SQL è¾“å…¥æ¡†å¯ä»¥æ­£ç¡®å¤„ç†é•¿æ–‡æœ¬äº†ï¼
